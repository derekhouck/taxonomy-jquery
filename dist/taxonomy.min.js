var taxonomy_jquery={};taxonomy_jquery.listClass=".taxonomy-cloud",taxonomy_jquery.tagClass=".tag",taxonomy_jquery.tagActiveClass=".tag-active",taxonomy_jquery.tagCreateClass=".taxonomy-createTag",taxonomy_jquery.tagSlugData="data-taxonomy-newSlug",taxonomy_jquery.addInput="#taxonomy-cloud-input",taxonomy_jquery.newTagsHiddenField="taxonomy-newTags[]",taxonomy_jquery.existingTags=[],taxonomy_jquery.newTags=[],taxonomy_jquery.addInputTag=function(){var t=this.cutInputVal(this.addInput).replace(/^,|,$/g,"");if(this.addTag(t,taxonomy_jquery.newTags)===!0){var a='<li class="label label-default '+taxonomy_jquery.tagClass.substr(1)+" "+taxonomy_jquery.tagActiveClass.substr(1)+'">'+t+'<a href="#" class="tag-new-undo" '+taxonomy_jquery.tagSlugData+'="'+encodeURIComponent(t)+'"><i class="fa fa-close"></i></a></li>';$(a).insertAfter($(taxonomy_jquery.tagCreateClass).parent()),this.resetForm()}},taxonomy_jquery.resetForm=function(){$('input[name="'+this.newTagsHiddenField+'"]').remove();var t="";this.newTags.length>0&&$.each(this.newTags,function(a,e){t+='<input type="text" name="'+taxonomy_jquery.newTagsHiddenField+'" value="'+e+'">'});var a=$(this.listClass).closest("form");$(t).appendTo(a)},taxonomy_jquery.undoNewTag=function(t){this.removeTag(t,taxonomy_jquery.newTags),$("a["+taxonomy_jquery.tagSlugData+"='"+encodeURIComponent(t)+"']").parent().remove(),this.resetForm()},taxonomy_jquery.removeTag=function(t,a){var e=a.indexOf(t);return e>-1?(a.splice(e,1),!0):!1},taxonomy_jquery.addTag=function(t,a){var e=a.indexOf(t);if(0>e){{encodeURIComponent(t)}return a.push(t),!0}return!1},taxonomy_jquery.cutInputVal=function(t){var a=$(t).val();return $(t).val(""),a},function(t){t(taxonomy_jquery.listClass+" "+taxonomy_jquery.tagClass).click(function(){return t(this).hasClass(taxonomy_jquery.tagActiveClass.substr(1))?t(this).removeClass(taxonomy_jquery.tagActiveClass.substr(1)):t(this).addClass(taxonomy_jquery.tagActiveClass.substr(1)),!1}),t(taxonomy_jquery.listClass+" "+taxonomy_jquery.tagCreateClass).click(function(){if(0===t(taxonomy_jquery.addInput).length){var a='<div class="form-group"><input id="'+taxonomy_jquery.addInput.substr(1)+'" type="text" class="form-control" placeholder="Add tags separated by a comma..."></div>';t(a).insertBefore(t(taxonomy_jquery.listClass))}return!1}),t(document).on("click",".tag-new-undo",function(){taxonomy_jquery.undoNewTag(t(this).parent().text())}),t(document).on("keyup",taxonomy_jquery.addInput,function(){(188==event.keyCode||9==event.keyCode||13==event.keyCode)&&taxonomy_jquery.addInputTag(),event.preventDefault()})}(jQuery);